"use strict";(self["webpackChunkinvuedious"]=self["webpackChunkinvuedious"]||[]).push([[256],{4794:function(a,t,e){e.d(t,{Z:function(){return k}});var n=e(6252);const i={class:"columns"};function r(a,t,e,r,d,s){const l=(0,n.up)("roundedCard");return(0,n.wg)(),(0,n.iD)("div",i,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.dataArray,(a=>((0,n.wg)(),(0,n.iD)("div",{key:a.authorId,class:"column col-xs-12 col-sm-6 col-md-3 col-2"},[(0,n.Wm)(l,{channelData:a,mode:e.mode},null,8,["channelData","mode"])])))),128))])}var d=e(3577);const s=a=>((0,n.dD)("data-v-0f6f3684"),a=a(),(0,n.Cn)(),a),l={class:"card"},o={class:"card-image"},c=["src","alt"],h={class:"card-header"},u={class:"card-title h6"},m={class:"card-subtitle text-gray"},v={key:0,class:"card-body"},y=s((()=>(0,n._)("br",null,null,-1)));function g(a,t,e,i,r,s){const g=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(g,{to:{name:"channel",path:"/channel/:id",params:{id:e.channelData.authorId},props:!0}},{default:(0,n.w5)((()=>[(0,n._)("div",o,[(0,n._)("img",{src:e.channelData.authorThumbnails[2].url,class:"img-responsive",alt:e.channelData.author},null,8,c)])])),_:1},8,["to"]),(0,n._)("div",h,[(0,n.Wm)(g,{to:{name:"channel",path:"/channel/:id",params:{id:e.channelData.authorId},props:!0}},{default:(0,n.w5)((()=>[(0,n._)("div",u,(0,d.zw)(e.channelData.author),1)])),_:1},8,["to"]),(0,n._)("div",m,(0,d.zw)(e.channelData.description),1)]),"channelInfo"!=e.mode?((0,n.wg)(),(0,n.iD)("div",v,[(0,n.Uk)(" Subscribers: "+(0,d.zw)(e.channelData.formattedSubs)+" ",1),y,(0,n.Uk)(" Videos: "+(0,d.zw)(e.channelData.videoCount),1)])):(0,n.kq)("",!0)])}var p={name:"roundedCard",props:{channelData:Object,mode:String}},b=e(3744);const w=(0,b.Z)(p,[["render",g],["__scopeId","data-v-0f6f3684"]]);var f=w,_={name:"roundedCardContainer",props:{dataArray:Array,mode:String},components:{roundedCard:f}};const A=(0,b.Z)(_,[["render",r]]);var k=A},4422:function(a,t,e){e.r(t),e.d(t,{default:function(){return la}});var n=e(6252),i=e(3577);const r=a=>((0,n.dD)("data-v-c2f4b07a"),a=a(),(0,n.Cn)(),a),d={key:0,class:"loading loading-lg"},s={key:1},l={key:0},o={class:"empty"},c={class:"empty-icon"},h=r((()=>(0,n._)("p",{class:"empty-title h5"},"Connection error",-1))),u=r((()=>(0,n._)("p",{class:"empty-subtitle"},[(0,n.Uk)(" The request to the indvidious instance took too long, or the channel doesn't exist. "),(0,n._)("br"),(0,n.Uk)("Check your connection and try again. ")],-1))),m={class:"empty-action"},v={class:"tab tab-block"},y={key:1,class:"loading loading-lg"},g={key:2},p={key:0,class:"container2"},b={key:0},w={key:0,class:"loading loading-lg"},f={key:1},_={class:"empty"},A={class:"empty-icon"},k=r((()=>(0,n._)("p",{class:"empty-title h5"},"No videos found",-1))),D={key:1,class:"container2"},C={key:0},S={key:1},W={class:"empty"},I={class:"empty-icon"},z=r((()=>(0,n._)("p",{class:"empty-title h5"},"No related channels",-1))),V={key:1,id:"channelDescription"},L=["innerHTML"],x={style:{color:"white"}};function B(a,t,e,r,B,E){const T=(0,n.up)("unicon"),H=(0,n.up)("channelHeader"),U=(0,n.up)("router-link"),q=(0,n.up)("cardContainer"),M=(0,n.up)("roundedCardContainer");return B.loading?((0,n.wg)(),(0,n.iD)("div",d)):((0,n.wg)(),(0,n.iD)("div",s,[B.failed?((0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("div",o,[(0,n._)("div",c,[(0,n.Wm)(T,{name:"sad-dizzy",fill:"var(--primary)",width:"50px",height:"50px"})]),h,u,(0,n._)("div",m,[(0,n._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=a=>E.reconnect())}," RETRY ")])])])):(0,n.kq)("",!0),(0,n.Wm)(H,{dataArray:B.dataArray},null,8,["dataArray"]),(0,n._)("ul",v,[(0,n._)("li",{class:"tab-item",id:"tab1",onClick:t[1]||(t[1]=a=>E.setActive(1))},[(0,n.Wm)(U,{to:{name:"channel"}},{default:(0,n.w5)((()=>[(0,n.Wm)(T,{name:"video",fill:"var(--primary)"}),(0,n.Uk)("VIDEOS ")])),_:1})]),(0,n._)("li",{class:"tab-item",id:"tab2",onClick:t[2]||(t[2]=a=>E.setActive(2))},[(0,n.Wm)(U,{to:{name:"channel"}},{default:(0,n.w5)((()=>[(0,n.Wm)(T,{name:"tv-retro",fill:"var(--primary)"}),(0,n.Uk)("CHANNELS ")])),_:1})]),(0,n._)("li",{class:"tab-item",id:"tab3",onClick:t[3]||(t[3]=a=>E.setActive(3))},[(0,n.Wm)(U,{to:{name:"channel"}},{default:(0,n.w5)((()=>[(0,n.Wm)(T,{name:"info-circle",fill:"var(--primary)"}),(0,n.Uk)("ABOUT ")])),_:1})])]),B.innerLoading?((0,n.wg)(),(0,n.iD)("div",y)):((0,n.wg)(),(0,n.iD)("div",g,["videos"==B.mode?((0,n.wg)(),(0,n.iD)("div",p,[0!=B.videoArray.length?((0,n.wg)(),(0,n.iD)("div",b,[(0,n.Wm)(q,{videoArray:B.videoArray},null,8,["videoArray"]),B.stop?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",w))])):((0,n.wg)(),(0,n.iD)("div",f,[(0,n._)("div",_,[(0,n._)("div",A,[(0,n.Wm)(T,{name:"image-times",fill:"var(--primary)",width:"50px",height:"50px"})]),k])]))])):((0,n.wg)(),(0,n.iD)("div",D,["channels"==B.mode?((0,n.wg)(),(0,n.iD)("div",C,[0!=B.dataArray[0].relatedChannels.length?((0,n.wg)(),(0,n.j4)(M,{key:0,dataArray:B.dataArray[0].relatedChannels,mode:"channelInfo"},null,8,["dataArray"])):((0,n.wg)(),(0,n.iD)("div",S,[(0,n._)("div",W,[(0,n._)("div",I,[(0,n.Wm)(T,{name:"tv-retro-slash",fill:"var(--primary)",width:"50px",height:"50px"})]),z])]))])):((0,n.wg)(),(0,n.iD)("div",V,[(0,n._)("div",{innerHTML:B.dataArray[0].descriptionHtml,id:"descriptionText"},null,8,L),(0,n._)("div",null,[(0,n._)("p",null,[(0,n.Uk)(" Joined: "),(0,n._)("span",x,(0,i.zw)(B.dataArray[0].dateJoined),1)]),(0,n._)("p",null,(0,i.zw)(B.dataArray[0].formattedViews),1),(0,n._)("p",null,(0,i.zw)(B.dataArray[0].formattedSubs),1)])]))]))]))]))}var E=e(9669),T=e.n(E),H=e(866),U=e(4794);const q={key:0,class:"bannerContent"},M=["data-initial"],Z=["src","alt"],j={class:"channelTitle"},N={class:"channelSubtitle"},Y={key:1,class:"channelBanner"},J={key:0,class:"bannerContent"},O={class:"avatar avatar-xxl"},$=["src"],R={class:"channelTitle"},F={class:"channelSubtitle"},K={key:2,class:"bannerContent"},P={class:"avatar avatar-xxl"},G=["src"],Q={class:"channelTitle"},X={class:"channelSubtitle"};function aa(a,t,e,r,d,s){return(0,n.wg)(),(0,n.iD)("div",null,[0!=e.dataArray[0].authorBanners.length?((0,n.wg)(),(0,n.iD)("header",{key:0,class:"channelBanner",style:(0,i.j5)({background:"url("+e.dataArray[0].authorBanners[1].url+")"})},[d.myWidth>900?((0,n.wg)(),(0,n.iD)("div",q,[(0,n._)("figure",{class:"avatar avatar-xxl","data-initial":e.dataArray[0].author.charAt(0)},[(0,n._)("img",{src:e.dataArray[0].authorThumbnails[2].url,alt:e.dataArray[0].author},null,8,Z)],8,M),(0,n._)("div",null,[(0,n._)("h1",j,(0,i.zw)(e.dataArray[0].author),1),(0,n._)("h5",N," Subscribers: "+(0,i.zw)(e.dataArray[0].formattedSubs),1)])])):(0,n.kq)("",!0)],4)):((0,n.wg)(),(0,n.iD)("header",Y,[d.myWidth>900?((0,n.wg)(),(0,n.iD)("div",J,[(0,n._)("figure",O,[(0,n._)("img",{src:e.dataArray[0].authorThumbnails[2].url,alt:"..."},null,8,$)]),(0,n._)("div",null,[(0,n._)("h1",R,(0,i.zw)(e.dataArray[0].author),1),(0,n._)("h5",F," Subscribers: "+(0,i.zw)(e.dataArray[0].formattedSubs),1)])])):(0,n.kq)("",!0)])),d.myWidth<=900?((0,n.wg)(),(0,n.iD)("div",K,[(0,n._)("figure",P,[(0,n._)("img",{src:e.dataArray[0].authorThumbnails[2].url,alt:"..."},null,8,G)]),(0,n._)("div",null,[(0,n._)("h3",Q,(0,i.zw)(e.dataArray[0].author),1),(0,n._)("h6",X," Subscribers: "+(0,i.zw)(e.dataArray[0].formattedSubs),1)])])):(0,n.kq)("",!0)])}var ta={name:"channelHeader",props:{dataArray:Array},data(){return{myWidth:0}},created(){this.displayWindowSize(),window.onresize=this.displayWindowSize},methods:{displayWindowSize(){this.myWidth=window.innerWidth}}},ea=e(3744);const na=(0,ea.Z)(ta,[["render",aa],["__scopeId","data-v-4bb88df8"]]);var ia=na,ra=e(2077),da={name:"channelPage",data(){return{loading:!0,innerLoading:!0,mode:"videos",dataArray:[],videoArray:[],id:this.$route.params.id,page:1,stop:!1,bottom:!1,failed:!1}},props:{reload:Boolean},components:{cardContainer:H.Z,roundedCardContainer:U.Z,channelHeader:ia},created(){this.getChannelData(),this.getChannelVideos(),window.addEventListener("scroll",(()=>{this.bottom=this.bottomVisible()}))},methods:{reconnect(){this.loading=!0,this.innerLoading=!0,this.mode="videos",this.dataArray=[],this.videoArray=[],this.page=1,this.stop=!1,this.bottom=!1,this.failed=!1,this.getChannelData(),this.getChannelVideos()},getChannelData(){var a=this.$store.state.selected+"/api/v1/channels/"+this.id;T()({url:a,timeout:1e4}).then((a=>{document.title=a.data.author+" - Invuedious";let t={};if(t=a.data,t.formattedSubs=ra(a.data.subCount).format("0a"),"m"==t.formattedSubs.charAt(t.formattedSubs.length-1)){var e=t.formattedSubs.substr(0,t.formattedSubs.length-1)+"M";t.formattedSubs=e}t.dateJoined=this.timeConverter(a.data.joined),t.formattedViews=a.data.totalViews+" views",this.dataArray.push(t)})).catch((()=>{this.failed=!0})).then((()=>this.loading=!1)).then((()=>this.setActive(1)))},getChannelVideos(){var a=this.$store.state.selected+"/api/v1/channels/videos/"+this.id+"?page="+this.page;T()({url:a,timeout:1e4}).then((a=>{let t={},e=!1;this.stop=!1,a.data.length<60&&(this.stop=!0);for(let i=0;i<a.data.length;i++){if(t=a.data[i],t.formattedViews=ra(a.data[i].viewCount).format("0a"),"m"==t.formattedViews.charAt(t.formattedViews.length-1)){var n=t.formattedViews.substr(0,t.formattedViews.length-1)+"M";t.formattedViews=n}t.formattedViews+=" views",e=this.checkDouble(a.data[i].videoId,"video"),0==e&&this.videoArray.push(t)}})).catch((()=>{this.failed=!0})).then((()=>this.page+=1)).then((()=>this.innerLoading=!1))},checkDouble(a,t){for(var e=!1,n=0;n<this.dataArray.length;n++)null!=this.dataArray&&void 0!=this.dataArray[n]&&("video"==t?this.dataArray[n].videoId==a&&(e=!0):this.dataArray[n].authorId==a&&(e=!0));return e},timeConverter(a){var t=new Date(1e3*a),e=t.getFullYear(),n=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getDate()<10?"0"+t.getDate():t.getDate(),r=n+"-"+i+"-"+e;return r},bottomVisible(){const a=window.scrollY,t=document.documentElement.clientHeight,e=document.documentElement.scrollHeight-400,n=t+a>=e;return n||e<t},setActive(a){1==a?("videos"!=this.mode&&(this.mode="videos"),document.getElementById("tab1").classList.add("active"),document.getElementById("tab2").classList.remove("active"),document.getElementById("tab3").classList.remove("active")):2==a?("channels"!=this.mode&&(this.mode="channels"),document.getElementById("tab2").classList.add("active"),document.getElementById("tab1").classList.remove("active"),document.getElementById("tab3").classList.remove("active")):("about"!=this.mode&&(this.mode="about"),document.getElementById("tab3").classList.add("active"),document.getElementById("tab2").classList.remove("active"),document.getElementById("tab1").classList.remove("active"))}},watch:{bottom(a){a&&!this.loading&&"videos"==this.mode&&this.getChannelVideos()},reload(){this.reload&&this.reconnect()}}};const sa=(0,ea.Z)(da,[["render",B],["__scopeId","data-v-c2f4b07a"]]);var la=sa}}]);
//# sourceMappingURL=channel.85cf8677.js.map