{"version":3,"file":"js/search.db539749.js","mappings":"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","sources":["webpack://invuedious/./src/components/roundedCardContainer.vue","webpack://invuedious/./src/components/roundedCard.vue","webpack://invuedious/./src/components/roundedCard.vue?b22b","webpack://invuedious/./src/components/roundedCardContainer.vue?a92b","webpack://invuedious/./src/views/search.vue","webpack://invuedious/./src/views/search.vue?dc38"],"sourcesContent":["<template>\n\t<div class=\"columns\">\n\t\t<div\n\t\t\tv-for=\"channel in dataArray\"\n\t\t\t:key=\"channel.authorId\"\n\t\t\tclass=\"column col-xs-12 col-sm-6 col-md-3 col-2\"\n\t\t>\n\t\t\t<roundedCard :channelData=\"channel\" :mode=\"mode\" />\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport roundedCard from \"./roundedCard.vue\"\nexport default {\n\tname: \"roundedCardContainer\",\n\tprops: {\n\t\tdataArray: Array,\n\t\tmode: String,\n\t},\n\tcomponents: {\n\t\troundedCard,\n\t},\n}\n</script>\n","<template>\n\t<div class=\"card\">\n\t\t<router-link\n\t\t\t:to=\"{\n\t\t\t\tname: 'channel',\n\t\t\t\tpath: '/channel/:id',\n\t\t\t\tparams: { id: channelData.authorId },\n\t\t\t\tprops: true,\n\t\t\t}\"\n\t\t>\n\t\t\t<div class=\"card-image\">\n\t\t\t\t<img\n\t\t\t\t\t:src=\"channelData.authorThumbnails[2].url\"\n\t\t\t\t\tclass=\"img-responsive\"\n\t\t\t\t\t:alt=\"channelData.author\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</router-link>\n\t\t<div class=\"card-header\">\n\t\t\t<router-link\n\t\t\t\t:to=\"{\n\t\t\t\t\tname: 'channel',\n\t\t\t\t\tpath: '/channel/:id',\n\t\t\t\t\tparams: { id: channelData.authorId },\n\t\t\t\t\tprops: true,\n\t\t\t\t}\"\n\t\t\t>\n\t\t\t\t<div class=\"card-title h6\">{{ channelData.author }}</div>\n\t\t\t</router-link>\n\t\t\t<div class=\"card-subtitle text-gray\">\n\t\t\t\t{{ channelData.description }}\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"card-body\" v-if=\"mode != 'channelInfo'\">\n\t\t\tSubscribers: {{ channelData.formattedSubs }}\n\t\t\t<br />\n\t\t\tVideos: {{ channelData.videoCount }}\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: \"roundedCard\",\n\tprops: {\n\t\tchannelData: Object,\n\t\tmode: String,\n\t},\n}\n</script>\n\n<style scoped>\n.card {\n\tborder-radius: 0 1em 0 1em;\n}\n.card-image img {\n\tborder-radius: 100% !important;\n\tmargin: 1em auto 0;\n}\n</style>\n","import { render } from \"./roundedCard.vue?vue&type=template&id=0f6f3684&scoped=true\"\nimport script from \"./roundedCard.vue?vue&type=script&lang=js\"\nexport * from \"./roundedCard.vue?vue&type=script&lang=js\"\n\nimport \"./roundedCard.vue?vue&type=style&index=0&id=0f6f3684&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/invuedious/invuedious/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0f6f3684\"]])\n\nexport default __exports__","import { render } from \"./roundedCardContainer.vue?vue&type=template&id=e101b98e\"\nimport script from \"./roundedCardContainer.vue?vue&type=script&lang=js\"\nexport * from \"./roundedCardContainer.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/invuedious/invuedious/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n\t<div>\n\t\t<ul class=\"tab tab-block\">\n\t\t\t<li class=\"tab-item\" id=\"tab1\">\n\t\t\t\t<router-link\n\t\t\t\t\t:to=\"{\n\t\t\t\t\t\tname: 'searchVideo',\n\t\t\t\t\t\tparams: { q: query },\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<unicon name=\"video\" fill=\"var(--primary)\" />VIDEOS\n\t\t\t\t</router-link>\n\t\t\t</li>\n\t\t\t<li class=\"tab-item\" id=\"tab2\">\n\t\t\t\t<router-link\n\t\t\t\t\t:to=\"{\n\t\t\t\t\t\tname: 'searchChannel',\n\t\t\t\t\t\tparams: { q: query },\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<unicon name=\"tv-retro\" fill=\"var(--primary)\" />CHANNELS\n\t\t\t\t</router-link>\n\t\t\t</li>\n\t\t</ul>\n\t\t<div class=\"container2\">\n\t\t\t<div v-if=\"loading\" class=\"loading loading-lg\"></div>\n\t\t\t<div v-else>\n\t\t\t\t<div v-if=\"failed\">\n\t\t\t\t\t<div class=\"empty\">\n\t\t\t\t\t\t<div class=\"empty-icon\">\n\t\t\t\t\t\t\t<unicon\n\t\t\t\t\t\t\t\tname=\"sad-dizzy\"\n\t\t\t\t\t\t\t\tfill=\"var(--primary)\"\n\t\t\t\t\t\t\t\twidth=\"50px\"\n\t\t\t\t\t\t\t\theight=\"50px\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p class=\"empty-title h5\">Connection error</p>\n\t\t\t\t\t\t<p class=\"empty-subtitle\">\n\t\t\t\t\t\t\tThe request to the indvidious instance took too\n\t\t\t\t\t\t\tlong.\n\t\t\t\t\t\t\t<br />Check your connection and try again.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div class=\"empty-action\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"btn btn-primary\"\n\t\t\t\t\t\t\t\t@click=\"reconnect()\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tRETRY\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div v-else>\n\t\t\t\t\t<div v-if=\"dataArray.length == 0\">\n\t\t\t\t\t\t<div class=\"empty\">\n\t\t\t\t\t\t\t<div class=\"empty-icon\">\n\t\t\t\t\t\t\t\t<unicon\n\t\t\t\t\t\t\t\t\tname=\"frown\"\n\t\t\t\t\t\t\t\t\tfill=\"var(--primary)\"\n\t\t\t\t\t\t\t\t\twidth=\"50px\"\n\t\t\t\t\t\t\t\t\theight=\"50px\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p class=\"empty-title h5\">No results found</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t<cardContainer\n\t\t\t\t\t\t\t:videoArray=\"dataArray\"\n\t\t\t\t\t\t\tv-if=\"mode == 'searchVideo'\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<roundedCardContainer :dataArray=\"dataArray\" v-else />\n\t\t\t\t\t\t<div v-if=\"!stop\" class=\"loading loading-lg\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nvar numeral = require(\"numeral\")\nimport cardContainer from \"../components/cardContainer.vue\"\nimport roundedCardContainer from \"../components/roundedCardContainer.vue\"\nimport axios from \"axios\"\nexport default {\n\tname: \"searchPage\",\n\tcomponents: {\n\t\tcardContainer,\n\t\troundedCardContainer,\n\t},\n\tprops: {\n\t\treload: Boolean,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdataArray: [],\n\t\t\tloading: true,\n\t\t\tquery: this.$route.params.q,\n\t\t\tmode: this.$route.name,\n\t\t\tpage: 1,\n\t\t\tbottom: false,\n\t\t\tfailed: false,\n\t\t\tstop: false,\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.checkActive()\n\t},\n\tcreated() {\n\t\tdocument.title = this.query + \" - Invuedious\"\n\t\tif (this.mode == \"searchVideo\") {\n\t\t\tthis.getVideoData()\n\t\t} else {\n\t\t\tthis.getChannelsData()\n\t\t}\n\t\twindow.addEventListener(\"scroll\", () => {\n\t\t\tthis.bottom = this.bottomVisible()\n\t\t})\n\t},\n\tunmounted() {\n\t\twindow.removeEventListener(\"scroll\", () => {\n\t\t\tthis.bottom = this.bottomVisible()\n\t\t})\n\t},\n\tmethods: {\n\t\tcheckActive() {\n\t\t\tif (this.$route.name == \"searchVideo\") {\n\t\t\t\tdocument.getElementById(\"tab1\").classList.add(\"active\")\n\t\t\t\tdocument.getElementById(\"tab2\").classList.remove(\"active\")\n\t\t\t} else {\n\t\t\t\tdocument.getElementById(\"tab2\").classList.add(\"active\")\n\t\t\t\tdocument.getElementById(\"tab1\").classList.remove(\"active\")\n\t\t\t}\n\t\t},\n\t\treconnect() {\n\t\t\tthis.loading = true\n\t\t\tthis.failed = false\n\t\t\tthis.getVideoData()\n\t\t},\n\t\tbottomVisible() {\n\t\t\tconst scrollY = window.scrollY\n\t\t\tconst visible = document.documentElement.clientHeight\n\t\t\tconst pageHeight = document.documentElement.scrollHeight - 400\n\t\t\tconst bottomOfPage = visible + scrollY >= pageHeight\n\t\t\treturn bottomOfPage || pageHeight < visible\n\t\t},\n\t\tgetVideoData() {\n\t\t\tvar url =\n\t\t\t\tthis.$store.state.selected +\n\t\t\t\t\"/api/v1/search?q=\" +\n\t\t\t\tthis.query +\n\t\t\t\t\"&page=\" +\n\t\t\t\tthis.page\n\t\t\taxios({\n\t\t\t\turl: url,\n\t\t\t\ttimeout: 10000,\n\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (!this.stop) {\n\t\t\t\t\t\tlet tmpObj = {}\n\t\t\t\t\t\tlet tmp = false\n\t\t\t\t\t\tfor (let i = 0; i < response.data.length; i++) {\n\t\t\t\t\t\t\ttmpObj = response.data[i]\n\t\t\t\t\t\t\ttmpObj.formattedViews = numeral(\n\t\t\t\t\t\t\t\tresponse.data[i].viewCount\n\t\t\t\t\t\t\t).format(\"0a\")\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\ttmpObj.formattedViews.charAt(\n\t\t\t\t\t\t\t\t\ttmpObj.formattedViews.length - 1\n\t\t\t\t\t\t\t\t) == \"m\"\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tvar strtmp =\n\t\t\t\t\t\t\t\t\ttmpObj.formattedViews.substr(\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\ttmpObj.formattedViews.length - 1\n\t\t\t\t\t\t\t\t\t) + \"M\"\n\t\t\t\t\t\t\t\ttmpObj.formattedViews = strtmp\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttmpObj.formattedViews += \" views\"\n\t\t\t\t\t\t\ttmp = this.checkDouble(\n\t\t\t\t\t\t\t\tresponse.data[i].videoId,\n\t\t\t\t\t\t\t\t\"video\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tif (tmp == false) {\n\t\t\t\t\t\t\t\tthis.dataArray.push(tmpObj)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (response.data.length < 20) {\n\t\t\t\t\t\t\tthis.stop = true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.failed = true\n\t\t\t\t})\n\t\t\t\t.then(() => (this.page += 1))\n\t\t\t\t.then(() => (this.loading = false))\n\t\t},\n\t\tgetChannelsData() {\n\t\t\tvar url =\n\t\t\t\tthis.$store.state.selected +\n\t\t\t\t\"/api/v1/search?q=\" +\n\t\t\t\tthis.query +\n\t\t\t\t\"&type=channel&page=\" +\n\t\t\t\tthis.page\n\t\t\taxios({\n\t\t\t\turl: url,\n\t\t\t\ttimeout: 10000,\n\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (!this.stop) {\n\t\t\t\t\t\tlet tmpObj = {}\n\t\t\t\t\t\tlet tmp = false\n\t\t\t\t\t\tfor (let i = 0; i < response.data.length; i++) {\n\t\t\t\t\t\t\ttmpObj = response.data[i]\n\t\t\t\t\t\t\ttmpObj.formattedSubs = numeral(\n\t\t\t\t\t\t\t\tresponse.data[i].subCount\n\t\t\t\t\t\t\t).format(\"0a\")\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\ttmpObj.formattedSubs.charAt(\n\t\t\t\t\t\t\t\t\ttmpObj.formattedSubs.length - 1\n\t\t\t\t\t\t\t\t) == \"m\"\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tvar strtmp =\n\t\t\t\t\t\t\t\t\ttmpObj.formattedSubs.substr(\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\ttmpObj.formattedSubs.length - 1\n\t\t\t\t\t\t\t\t\t) + \"M\"\n\t\t\t\t\t\t\t\ttmpObj.formattedSubs = strtmp\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttmp = this.checkDouble(\n\t\t\t\t\t\t\t\tresponse.data[i].authorId,\n\t\t\t\t\t\t\t\t\"channel\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tif (tmp == false) {\n\t\t\t\t\t\t\t\tthis.dataArray.push(tmpObj)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (response.data.length < 20) {\n\t\t\t\t\t\t\tthis.stop = true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.failed = true\n\t\t\t\t})\n\t\t\t\t.then(() => (this.page += 1))\n\t\t\t\t.then(() => (this.loading = false))\n\t\t},\n\t\tcheckDouble(id, mode) {\n\t\t\tvar found = false\n\t\t\tfor (var j = 0; j < this.dataArray.length; j++) {\n\t\t\t\tif (this.dataArray != null) {\n\t\t\t\t\tif (this.dataArray[j] != undefined) {\n\t\t\t\t\t\tif (mode == \"video\") {\n\t\t\t\t\t\t\tif (this.dataArray[j].videoId == id) {\n\t\t\t\t\t\t\t\tfound = true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (this.dataArray[j].authorId == id) {\n\t\t\t\t\t\t\t\tfound = true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn found\n\t\t},\n\t},\n\twatch: {\n\t\treload() {\n\t\t\tif (this.reload) {\n\t\t\t\tthis.loading = true\n\t\t\t\tthis.dataArray = []\n\t\t\t\tthis.page = 1\n\t\t\t\tthis.bottom = false\n\t\t\t\tthis.failed = false\n\t\t\t\tthis.stop = false\n\t\t\t\tthis.reconnect()\n\t\t\t}\n\t\t},\n\t\tbottom(bottom) {\n\t\t\tif (bottom && !this.loading) {\n\t\t\t\tif (this.mode == \"searchVideo\") {\n\t\t\t\t\tthis.getVideoData()\n\t\t\t\t} else {\n\t\t\t\t\tthis.getChannelsData()\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style scoped></style>\n","import { render } from \"./search.vue?vue&type=template&id=3637120a\"\nimport script from \"./search.vue?vue&type=script&lang=js\"\nexport * from \"./search.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/invuedious/invuedious/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","dataArray","channel","key","authorId","channelData","mode","to","src","authorThumbnails","url","alt","author","description","formattedSubs","videoCount","name","props","Object","String","__exports__","Array","components","roundedCard","render","id","fill","width","height","reconnect","length","videoArray","stop","numeral","cardContainer","roundedCardContainer","reload","Boolean","data","loading","query","this","$route","params","q","page","bottom","failed","mounted","checkActive","created","document","title","getVideoData","getChannelsData","window","addEventListener","bottomVisible","unmounted","removeEventListener","methods","getElementById","classList","add","remove","scrollY","visible","documentElement","clientHeight","pageHeight","scrollHeight","bottomOfPage","$store","state","selected","timeout","then","response","tmpObj","tmp","i","formattedViews","viewCount","format","charAt","strtmp","substr","checkDouble","videoId","push","catch","subCount","found","j","undefined","watch"],"sourceRoot":""}